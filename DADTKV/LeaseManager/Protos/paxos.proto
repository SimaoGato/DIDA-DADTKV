syntax = "proto3";

service PaxosService {
  rpc PaxosPhaseOne(Prepare) returns (Promise);
  rpc PaxosPhaseTwo(Accept) returns (Accepted);
}

message Prepare {
  int32 id = 1;
}

message Promise {
  int32 id = 1;
  int32 previousAcceptedId = 2;
  int32 acceptedValue = 3;
}

message Accept {
  int32 id = 1;
  int32 value = 2;
}

message Accepted {
  int32 id = 1;
  int32 acceptedValue = 2;
}

message DadInt {
  string key = 1;
  int64 value = 2;
}
